{% extends 'core/base.html' %}

{% block title %}Meus chats{% endblock %}

{% block content %}
<div class="p-10 flex flex-col">
  <h1 class="text-2xl lg:text-6xl text-white">Meus chats</h1>

  <div class="grid grid-cols-3 gap-5 mt-6">
    {% for chat in chats %}
      <div class="bg-slate-600 rounded-xl">
        <a href="{% url 'chat:detail' chat.product.id %}?buyer={{ chat.buyer.username }}" target="_self">
          <div class="flex justify-center">
            <img src="{{ chat.product.image.url }}" class="rounded-t-xl h-[150px]">
          </div>

          <div class="p-4 bg-white rounded-b-xl"> 
            <h2 class="text-2xl mb-3">{{ chat.product.name }}</h2>
            <p>
              {% if request.user == chat.buyer %}
                Vendedor: {{ chat.seller.username }}
              {% else %}
                Comprador: {{ chat.buyer.username }}
              {% endif %}
            </p>
          </div>
        </a>
      </div>
    {% endfor %}
  </ddiv>
</div>
{% endblock %}